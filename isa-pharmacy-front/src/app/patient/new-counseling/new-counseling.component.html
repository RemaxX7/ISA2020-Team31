<div class="counselingBox">
    <h1><b>Schedule a counseling appointment</b></h1>
    <mat-divider></mat-divider>
    <mat-horizontal-stepper [linear]="true" #stepper>
        <mat-step [stepControl]="firstStep" [editable]="isEditable">
            <form [formGroup]="firstStep">
                <ng-template matStepLabel>Choose date and time</ng-template>
                <mat-form-field>
                    <mat-label>Click the icon for drop-down menu</mat-label>
                    <input matInput [ngxMatDatetimePicker]="picker" [min]="min" placeholder="Date and time" autocomplete="off"
                        formControlName="dateAndTime">
                    <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                    <ngx-mat-datetime-picker [enableMeridian]="true" #picker [stepMinute]="30" [showSeconds]="false"
                        [defaultTime]="defaultTime"></ngx-mat-datetime-picker>
                </mat-form-field>
                <div>
                    <button mat-raised-button matStepperNext (click)="GetPharmacies()">Next</button>
                </div>
            </form>
        </mat-step>
        <mat-step [stepControl]="secondStep" [editable]="isEditable">
            <form [formGroup]="secondStep">
                <ng-template matStepLabel>Select a pharmacy</ng-template>
                <mat-form-field>
                    <mat-label>Pharmacy</mat-label>
                    <mat-select formControlName="pharmacy" placeholder="Pharmacy">
                        <mat-option *ngFor="let pharmacy of pharmacies" [value]="pharmacy">
                            <h1>{{pharmacy.name}} </h1>
                            <p>{{pharmacy.address.street}} {{pharmacy.address.number}}, {{pharmacy.address.city}}
                            </p>
                        </mat-option>
                    </mat-select>
                </mat-form-field>
                <div>
                    <button mat-raised-button (click)="stepper.reset()">Reset</button>
                    <button mat-raised-button matStepperNext (click)="GetPharmacists()">Next</button>
                </div>
            </form>
        </mat-step>
        <mat-step [stepControl]="thirdStep" [editable]="isEditable">
            <form [formGroup]="thirdStep">
                <ng-template matStepLabel>Select a pharmacist</ng-template>
                <mat-form-field>
                    <mat-label>Pharmacist</mat-label>
                    <mat-select formControlName="pharmacist" placeholder="Pharmacist">
                        <mat-option *ngFor="let pharmacist of pharmacists" [value]="pharmacist">
                            <p><b>{{pharmacist.name}} {{pharmacist.surname}}</b> {{pharmacist.email}}</p>
                        </mat-option>
                    </mat-select>
                </mat-form-field>
                <div>
                    <button mat-raised-button matStepperNext (click)="ScheduleCounseling()">Next</button>
                </div>
            </form>
        </mat-step>
        <mat-step>
            <ng-template matStepLabel>Done</ng-template>
            <p>You are now done.</p>
            <div>
                <button mat-raised-button (click)="stepper.reset()">Reset</button>
            </div>
        </mat-step>
    </mat-horizontal-stepper>
</div>